{"version":3,"sources":["store/store.effects.js","store/store-provider.jsx","components/ControlBar/ControlBar.jsx","components/ToggleButton/ToggleButton.jsx","components/HoverIndicator.jsx","utils.js","styled/Button.js","styled/Input.js","components/TextIndicator.jsx","components/LinkIndicator.jsx","wp.js","components/ImgIndicator.jsx","components/BgImageIndicator.jsx","components/IframeIndicator.jsx","components/VideoIndicator.jsx","App.jsx","index.jsx"],"names":["saveItems","_x","_x2","_saveItems","apply","this","arguments","_callee","items","pageName","res","regenerator_default","a","wrap","_context","prev","next","fetch","window","udesly_fe","ajax_url","ajax_nonce","method","credentials","headers","Content-Type","body","serialize","sent","ok","abrupt","error","json","t0","stop","obj","str","p","hasOwnProperty","push","encodeURIComponent","join","store","createStore","enabled","modifiedItems","shouldSave","select","state","Object","keys","length","currentItem","loading","message","enableFrontendEditor","payload","document","setAttribute","setItems","changeTextValues","objectSpread","color","text","concat","setPageName","changeIframeValue","startsWith","changeVideoValue","changeImageValue","changeBackgroundImageValue","changeTextValue","changeLinkValue","setCurrentItem","effect","_ref","asyncToGenerator","mark","dispatch","getState","setLoading","setMessage","errorSaving","savingSuccess","setTimeout","_x3","FrontendEditorProvider","props","react_default","createElement","easy_peasy_esm","children","StyledControlBar","styled","div","_templateObject","ControlBar","id","StyledButton","ToggleButton_templateObject","isEnabled","Help","label","_templateObject2","theme","primaryColor","primaryButton","ToggleButton","type","help","useStore","enable","useAction","className","ToggleButton_StyledButton","onClick","Indicator","HoverIndicator_templateObject","width","height","top","left","display","HoverIndicator","_ref$modifier","modifier","onElementClick","_useState","useState","_useState2","slicedToArray","style","setStyle","listenMouseOver","_ref2","target","isFrontendEditorEnabled","getAttribute","tagName","toLowerCase","rect","getBoundingClientRect","listenMouseOverBody","_ref3","classList","contains","querySelector","handleClickOverIframe","e","preventDefault","closest","iframe","handleClickOverVideo","handleClick","useEffect","querySelectorAll","forEach","el","btn","add","innerHTML","addEventListener","append","removeAttribute","assign","cleanDuplicates","arr","t","toConsumableArray","Set","attr","index","SaveButton","button","Button_templateObject","disabled","UdeslyInput","input","Input_templateObject","UdeslyFeModalWrapper","TextIndicator_templateObject","open","UdeslyFeModal","TextIndicator_templateObject2","TextIndicator","changeItemValue","changeItemsValues","values","setValues","_useState3","_useState4","setOpen","handleEnterKey","keyCode","witch","navigator","userAgent","indexOf","insertHtml","execCommand","handleEnterKeyInput","value","handleInput","func","wait","immediate","timeout","context","args","callNow","clearTimeout","debounce","Fragment","components_HoverIndicator","attrs","split","filter","nodes","n","walk","createTreeWalker","NodeFilter","SHOW_TEXT","nextNode","parentNode","textNodesUnder","map","indx","node","focus","removeEventListener","build_default","onClickOutside","onSubmit","console","log","maxWidth","key","data-id","defaultValue","onKeyDown","onChange","val","data","changePreview","fontSize","marginTop","LinkIndicator_templateObject","LinkIndicator_templateObject2","LinkIndicator","currentHref","setCurrentHref","_useState5","_useState6","currentLinkEl","setCurrentLinkEl","handleChangeValue","LinkIndicator_UdeslyFeModalWrapper","LinkIndicator_UdeslyFeModal","onKeyPress","handleKeyPress","openMediaSelector","title","onSelected","types","frame","wp","media","library","multiple","on","attachment","get","first","toJSON","ImgIndicator","url","BgImageIndicator","backgroundImage","IframeIndicator_templateObject","IframeIndicator_templateObject2","_templateObject3","IFrameIndicator","currentSrc","setCurrentSrc","abs","isAbsolute","parsed","match","parseYoutube","IframeIndicator_UdeslyFeModalWrapper","IframeIndicator_UdeslyFeModal","IframeIndicator_SaveButton","VideoIndicator","source","appendChild","load","play","Message","App_templateObject","App","isLoading","configEl","getElementById","JSON","parse","App_templateObject2","buttonMessage","components_ControlBar_ControlBar","components_ToggleButton_ToggleButton","TextIndicator_TextIndicator","LinkIndicator_LinkIndicator","ImgIndicator_ImgIndicator","BgImageIndicator_BgImageIndicator","IframeIndicator_IFrameIndicator","VideoIndicator_VideoIndicator","ReactDOM","render","store_provider","src_App"],"mappings":"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","file":"static/js/main.f52b8af4.chunk.js","sourcesContent":["export async function saveItems(items, pageName) {\r\n  try {\r\n    const res = await fetch(\r\n      window.udesly_fe.ajax_url +\r\n        '?action=save_frontend_editor_content_editable&page_name=' +\r\n        pageName +\r\n        '&security=' +\r\n        window.udesly_fe.ajax_nonce,\r\n      {\r\n        method: 'POST',\r\n        credentials: 'same-origin',\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\r\n        },\r\n        body: serialize(items)\r\n      }\r\n    );\r\n    if (!res.ok) {\r\n      return { error: 'Error Server' };\r\n    } else {\r\n      return res.json();\r\n    }\r\n  } catch (e) {\r\n    return { error: 'Server Error' };\r\n  }\r\n}\r\n\r\nconst serialize = obj => {\r\n  var str = [];\r\n  for (var p in obj)\r\n    if (obj.hasOwnProperty(p)) {\r\n      str.push(encodeURIComponent(p) + '=' + encodeURIComponent(obj[p]));\r\n    }\r\n  return str.join('&');\r\n};\r\n","import React from 'react';\r\nimport {StoreProvider, createStore, effect, select} from 'easy-peasy';\r\nimport { saveItems } from './store.effects';\r\n\r\nconst store = createStore({\r\n    enabled: false,\r\n    items: {},\r\n    pageName: '',\r\n    modifiedItems: {},\r\n    shouldSave: select(state =>\r\n        Object.keys(state.modifiedItems).length > 0\r\n    ),\r\n    currentItem: '',\r\n    loading: false,\r\n    error: '',\r\n    message: null,\r\n    enableFrontendEditor: (state, payload) => {\r\n        state.enabled = payload !== state.enabled ? payload : false;\r\n        document.body.setAttribute('data-udy-fe-enabled', state.enabled)\r\n    },\r\n    setItems: (state, payload) => {\r\n        state.items = payload;\r\n        window.udesly_fe.items = state.items;\r\n    },\r\n    changeTextValues: (state, payload) => {\r\n        state.items = {...state.items, ...payload};\r\n        window.udesly_fe.items = state.items;\r\n        state.modifiedItems = {...state.modifiedItems, ...payload};\r\n        state.message = {color: 'white', text: `${Object.keys(state.modifiedItems).length} items modified`};\r\n    },\r\n    setPageName: (state, payload) => {\r\n        state.pageName = payload;\r\n    },\r\n    changeIframeValue: (state, payload) => {\r\n        if(state.currentItem.startsWith('iframe_') && payload) {\r\n            state.modifiedItems[state.currentItem] = payload;\r\n            state.message = {color: 'white', text: `${Object.keys(state.modifiedItems).length} items modified`};\r\n        }\r\n    },\r\n    changeVideoValue: (state,payload) => {\r\n        if(state.currentItem.startsWith('video_') && payload) {\r\n            state.modifiedItems[state.currentItem] = payload;\r\n            state.message = {color: 'white', text: `${Object.keys(state.modifiedItems).length} items modified`};\r\n        }\r\n    },\r\n    changeImageValue: (state, payload) => {\r\n        if (typeof payload === 'number') {\r\n            if(state.currentItem.startsWith('image_') && payload) {\r\n                state.modifiedItems[state.currentItem] = payload;\r\n                state.message = {color: 'white', text: `${Object.keys(state.modifiedItems).length} items modified`};\r\n            }\r\n        }\r\n    },\r\n    changeBackgroundImageValue: (state, payload) => {\r\n        if (typeof payload === 'number') {\r\n            if(state.currentItem.startsWith('bg_image_') && payload) {\r\n                state.modifiedItems[state.currentItem] = payload;\r\n                state.message = {color: 'white', text: `${Object.keys(state.modifiedItems).length} items modified`};\r\n            }\r\n        }\r\n    },\r\n    changeTextValue: (state, payload) => {\r\n        if(state.currentItem.startsWith('text_') && payload) {\r\n            state.modifiedItems[state.currentItem] = payload;\r\n            state.message = {color: 'white', text: `${Object.keys(state.modifiedItems).length} items modified`};\r\n        }\r\n    },\r\n    changeLinkValue: (state, payload) => {\r\n        if(state.currentItem.startsWith('link_') && payload) {\r\n            state.modifiedItems[state.currentItem] = payload;\r\n            state.message = {color: 'white', text: `${Object.keys(state.modifiedItems).length} items modified`};\r\n        }\r\n    },\r\n    setCurrentItem: (state, payload) => {\r\n        state.currentItem = payload;\r\n    },\r\n    saveItems: effect( async (dispatch, payload, getState) => {\r\n        const state = getState();\r\n        dispatch.setLoading(true);\r\n        dispatch.setCurrentItem('');\r\n        dispatch.setMessage({color: 'white', text: 'Please wait...'});\r\n        const res = await saveItems(state.modifiedItems, state.pageName);\r\n        if (res.error) {\r\n            dispatch.errorSaving(res.error);\r\n            dispatch.setMessage({color: '#d34436', text: 'Error saving'});\r\n        }else {\r\n            dispatch.savingSuccess();\r\n            dispatch.setMessage({color: '#00cb5d', text: 'Saved successfully'});\r\n            setTimeout(() => {\r\n                dispatch.setMessage(null);\r\n            }, 3000);\r\n        }\r\n    }),\r\n    errorSaving: (state, payload) => {\r\n        state.loading = false;\r\n        state.error = payload;\r\n    },\r\n    setLoading: (state, payload) => {\r\n        state.loading = payload;\r\n    },\r\n    savingSuccess: (state, payload) => {\r\n        state.loading = false;\r\n        state.modifiedItems = {};\r\n    },\r\n    setMessage: (state, payload) => {\r\n        state.message = payload;\r\n    }\r\n});\r\n\r\nconst FrontendEditorProvider = (props) => (\r\n    <StoreProvider store={store}>\r\n        {props.children}\r\n    </StoreProvider>\r\n);\r\n\r\nexport default FrontendEditorProvider;","import React from 'react';\r\n\r\n// @ts-ignore\r\nimport styled from 'styled-components';\r\n\r\nconst StyledControlBar = styled.div`\r\n    position: fixed;\r\n    z-index: 9999999;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    overflow: hidden;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    & > div {\r\n        display:flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n    background-color: #333333;\r\n`\r\n\r\n\r\nconst ControlBar = (props) => {\r\n    return (\r\n        <StyledControlBar id=\"udesly-frontend-editor-controls\">\r\n            {props.children}\r\n        </StyledControlBar>\r\n    );\r\n}\r\n\r\nexport default ControlBar;\r\n\r\n","import React from 'react';\r\n\r\nimport { useStore, useAction } from 'easy-peasy';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledButton = styled.div`\r\n  background-color: ${props => (props.isEnabled ? '#2f52ff' : '#333333')};\r\n  padding: 8px 12px;\r\n  color: white;\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n  font-family: 'Helvetica', sans-serif;\r\n`;\r\n\r\nconst Help = styled.label`\r\n  color: ${props => props.theme.primaryColor};\r\n  cursor: pointer;\r\n  margin:0;\r\n\r\n  .help-wrapper {\r\n    display: none;\r\n    animation: slide-in 0.6s ease-in;\r\n    animation-fill-mode: backwards;\r\n  }\r\n\r\n  &:hover .help-wrapper {\r\n    grid-template-columns: auto 1fr;\r\n    grid-gap: 1rem;\r\n    justify-items: center;\r\n    display: grid;\r\n    align-items: center;\r\n    position: fixed;\r\n    bottom: 60px;\r\n    left: 20px;\r\n    padding: 8px 15px;\r\n    text-align: left;\r\n    font-size: 12px;\r\n    background-color: #2f52ff;\r\n    font-weight: lighter;\r\n    border-radius: 4px;\r\n    color: white;\r\n    max-width: 250px;\r\n    min-width: 100px;\r\n    background-color: ${props => props.theme.primaryButton};\r\n    box-shadow: 0 0.5rem 2rem rgba(0, 0, 0, 0.2);\r\n\r\n    i {\r\n      font-size: 1.2rem;\r\n      margin-right: 0.5rem;\r\n      color: white;\r\n    }\r\n  }\r\n\r\n  .help-wrapper * {\r\n    margin: 0;\r\n    letter-spacing: 0px;\r\n  }\r\n  .help-wrapper p {\r\n    font-size: 12px;\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst ToggleButton = ({ children, type, help }) => {\r\n  const isEnabled = useStore(state => state.enabled);\r\n  const enable = useAction(dispatch => dispatch.enableFrontendEditor);\r\n\r\n  return (\r\n    <Help>\r\n      <div className=\"help-wrapper\">\r\n        <i className=\"fas fa-info-circle\" />\r\n        <p>{help}</p>\r\n      </div>\r\n      <StyledButton isEnabled={isEnabled === type} onClick={() => enable(type)}>\r\n        {children}\r\n      </StyledButton>\r\n    </Help>\r\n  );\r\n};\r\n\r\nexport default ToggleButton;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useStore } from 'easy-peasy';\r\n\r\nimport styled from 'styled-components';\r\n\r\nconst Indicator = styled.div`\r\n  position: fixed;\r\n  width: ${props => props.width}px;\r\n  height: ${props => props.height}px;\r\n  top: ${props => props.top}px;\r\n  left: ${props => props.left}px;\r\n  z-index: 998;\r\n  outline: 1px dashed #2e52ff;\r\n  outline-offset: 5px;\r\n  background-color: transparent;\r\n  display: ${props => (props.display ? 'block' : 'none')};\r\n  pointer-events: none;\r\n  \r\n`;\r\n\r\nconst HoverIndicator = ({ type, modifier = '', onElementClick }) => {\r\n  const isEnabled = useStore(state => state.enabled);\r\n  const [style, setStyle] = useState({});\r\n\r\n  const listenMouseOver = ({ target }) => {\r\n    if (window.isFrontendEditorEnabled !== type) return;\r\n    if (!target.getAttribute('data-udy-fe')) return;\r\n    if (modifier === '' || target.tagName.toLowerCase() === modifier) {\r\n      const rect = target.getBoundingClientRect();\r\n      setStyle({\r\n        display: 'block',\r\n        width: rect.width,\r\n        height: rect.height,\r\n        top: rect.top,\r\n        left: rect.left\r\n      });\r\n    }\r\n  };\r\n\r\n  const listenMouseOverBody = ({target}) => {\r\n    if (window.isFrontendEditorEnabled !== type) return;\r\n    if(target.classList.contains('w-iframe') || target.querySelector('iframe')) return;\r\n    if(!target.getAttribute('data-udy-fe')) {\r\n      setStyle({\r\n        display: 'none'\r\n      });\r\n    }\r\n  }\r\n\r\n  const handleClickOverIframe = e => {\r\n    if (window.isFrontendEditorEnabled !== type) return;\r\n    e.preventDefault();\r\n    if (e.target.closest('.w-iframe')) {\r\n      const iframe = e.target.closest('.w-iframe').querySelector('iframe');\r\n      if (iframe && iframe.getAttribute('data-udy-fe')) {\r\n          onElementClick({target: iframe});\r\n  \r\n      }\r\n    }\r\n    \r\n  }\r\n\r\n  const handleClickOverVideo = e => {\r\n    if (window.isFrontendEditorEnabled !== type) return;\r\n    e.preventDefault();\r\n    if (e.target.closest('.w-background-video')) {\r\n      const iframe = e.target.closest('.w-background-video').querySelector('video');\r\n      if (iframe && iframe.getAttribute('data-udy-fe')) {\r\n          onElementClick({target: iframe});\r\n      }\r\n    }\r\n  \r\n  }\r\n\r\n  const handleClick = e => {\r\n    if (window.isFrontendEditorEnabled !== type) return;\r\n    e.preventDefault();\r\n    if (!e.target.getAttribute('data-udy-fe')) return;\r\n    if (modifier === '' || e.target.tagName.toLowerCase() === modifier) {\r\n      onElementClick(e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.isFrontendEditorEnabled = false;\r\n    document\r\n      .querySelectorAll(`${modifier}[data-udy-fe*=\"${type}\"]`)\r\n      .forEach(el => {\r\n        if(type === 'iframe_') {\r\n       \r\n          const btn = document.createElement('button');\r\n          btn.classList.add('udesly-iframe-button');\r\n          btn.innerHTML = '<i class=\"fab fa-youtube\"></i>';\r\n          btn.addEventListener('click', handleClickOverIframe);\r\n          el.closest('.w-iframe') && el.closest('.w-iframe').append(btn);\r\n        }else if (type === 'video_') {\r\n            const btn = document.createElement('button');\r\n            btn.classList.add('udesly-video-button');\r\n            btn.innerHTML = '<i class=\"fas fa-video\"></i>';\r\n            btn.addEventListener('click', handleClickOverVideo);\r\n            el.closest('.w-background-video') && el.closest('.w-background-video').append(btn);\r\n        }else {\r\n          el.addEventListener('mouseover', listenMouseOver, true);\r\n          el.addEventListener('click', handleClick, true);\r\n        }\r\n        \r\n      });\r\n      \r\n      document.body.addEventListener('mouseover', listenMouseOverBody);\r\n      \r\n   \r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    window.isFrontendEditorEnabled = isEnabled;\r\n    document.body.querySelectorAll('[contenteditable=\"true\"]').forEach(el => {\r\n      el.removeAttribute('contenteditable');\r\n    });\r\n    if (isEnabled !== type) {\r\n      setStyle({\r\n        display: 'none'\r\n      });\r\n    }\r\n  }, [isEnabled]);\r\n\r\n  return <Indicator {...style} className=\"udesly-hover-indicator\"/>;\r\n};\r\n\r\nexport default HoverIndicator;\r\n","export function debounce(func, wait, immediate) {\r\n    var timeout;\r\n  \r\n    return function executedFunction() {\r\n      var context = this;\r\n      var args = arguments;\r\n          \r\n      var later = function() {\r\n        timeout = null;\r\n        if (!immediate) func.apply(context, args);\r\n      };\r\n  \r\n      var callNow = immediate && !timeout;\r\n      \r\n      clearTimeout(timeout);\r\n  \r\n      timeout = setTimeout(later, wait);\r\n      \r\n      if (callNow) func.apply(context, args);\r\n    };\r\n};\r\n\r\n\r\nexport function unique(arr) {\r\n  return [...new Set(arr)];\r\n}\r\n\r\n\r\nexport function cleanDuplicates() {\r\n  const t = [];\r\n  document.querySelectorAll('[data-udy-fe]').forEach(el => t.push(el.getAttribute('data-udy-fe')));\r\n  const u = unique(t);\r\n  u.forEach( attr => {\r\n    document.querySelectorAll(`[data-udy-fe=\"${attr}\"]`).forEach((el, index) => {\r\n      if (index > 0) {\r\n        el.removeAttribute('data-udy-fe'); \r\n      }\r\n    });\r\n  })\r\n}\r\n\r\nexport function textNodesUnder(el){\r\n  var n, a=[], walk=document.createTreeWalker(el,NodeFilter.SHOW_TEXT,null,false);\r\n  while(n=walk.nextNode()) {\r\n    if (n.parentNode == el) {\r\n      a.push(n);\r\n    }\r\n  }\r\n  return a;\r\n}","import styled from 'styled-components';\r\n\r\nexport const SaveButton = styled.button`\r\n  -webkit-appearance: none;\r\n  background-color: #2f52ff;\r\n  color: white;\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n  border: 0;\r\n  cursor: ${props => (props.disabled ? 'not-allowed' : 'pointer')}!important;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const UdeslyInput = styled.input`\r\n  outline: none;\r\n  background-color: black;\r\n  border-radius: 4px;\r\n  margin-top: 12px;\r\n  margin-bottom: 12px;\r\n  width: 100%;\r\n  -webkit-appearance: none;\r\n  border: none;\r\n  padding: 10px;\r\n`;","import React, { useState } from 'react';\r\nimport { useAction } from 'easy-peasy';\r\n\r\nimport HoverIndicator from './HoverIndicator';\r\nimport { debounce, textNodesUnder } from '../utils';\r\nimport styled from 'styled-components';\r\nimport ClickOutside from 'react-click-outside';\r\nimport {SaveButton} from '../styled/Button';\r\nimport {UdeslyInput} from '../styled/Input';\r\n\r\nconst UdeslyFeModalWrapper = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: ${props => (props.open ? 'flex' : 'none')};\r\n  z-index: 9999;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n`;\r\n\r\nconst UdeslyFeModal = styled.div`\r\n  min-width: 300px;\r\n  background-color: #333333;\r\n  padding: 30px;\r\n  color: white;\r\n  z-index: 99999999;\r\n  position: relative;\r\n\r\n  h3 {\r\n    color: white;\r\n    letter-spacing: initial;\r\n    text-transform: none;\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\n\r\n\r\nexport const TextIndicator = () => {\r\n  const changeItemValue = useAction(dispatch => dispatch.changeTextValue);\r\n  const changeItemsValues = useAction(dispatch => dispatch.changeTextValues);\r\n  const setCurrentItem = useAction(dispatch => dispatch.setCurrentItem);\r\n  \r\n\r\n  const [values, setValues] = useState([]);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleEnterKey = e => {\r\n    if (e.keyCode === 13 || e.witch === 13) {\r\n      e.preventDefault();\r\n      if (navigator.userAgent.indexOf('msie') > 0) {\r\n        window.insertHtml('<br />');\r\n      } else {\r\n        document.execCommand('insertHTML', false, '<br><br>');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleEnterKeyInput = e => {\r\n    if (e.keyCode === 13 || e.witch === 13) {\r\n      e.preventDefault();\r\n      e.target.value = e.target.value + '<br>';\r\n    }\r\n  };\r\n\r\n  const _handleInput = ({ target }) => {\r\n    changeItemValue(target.innerHTML);\r\n  };\r\n\r\n  const handleInput = debounce(_handleInput, 600);\r\n\r\n  const handleClick = e => {\r\n    const t = e.target;\r\n    let attrs = t.getAttribute('data-udy-fe').split(',');\r\n    let attr = attrs.filter(el => el.startsWith('text_'));\r\n    if (attr.length > 1) {\r\n        const nodes = textNodesUnder(t);\r\n      setValues(\r\n        attrs.map( (attr, indx) => ({ attr, value: window.udesly_fe.items[attr], node: nodes[indx] }))\r\n      );\r\n     \r\n      setOpen(true);\r\n    } else {\r\n      t.setAttribute('contenteditable', true);\r\n      t.focus();\r\n      t.removeEventListener('keydown', handleEnterKey);\r\n      t.removeEventListener('input', handleInput);\r\n      t.addEventListener('keydown', handleEnterKey);\r\n      t.addEventListener('input', handleInput);\r\n      setCurrentItem(attr[0]);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n       if (!open) return;\r\n      e.preventDefault();\r\n      const values = {};\r\n      e.target.querySelectorAll('input[data-id]').forEach(el => {\r\n        values[el.getAttribute('data-id')] = el.value;\r\n      });\r\n      console.log(values);\r\n      changeItemsValues(values);\r\n      setOpen(false);\r\n\r\n  }\r\n\r\n  const changePreview = (e, node) => {\r\n      const val = e.target.value;\r\n      node.data = val;\r\n      // console.log(e.target.value, node);\r\n\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <HoverIndicator type=\"text_\" onElementClick={handleClick} />\r\n      <UdeslyFeModalWrapper open={open}>\r\n        <ClickOutside onClickOutside={() => setOpen(false)}>\r\n          <UdeslyFeModal>\r\n            <h3>Change the texts</h3>\r\n            <form onSubmit={handleSubmit} style={{maxWidth: '400px'}}>\r\n              {values.map(value => (\r\n                <UdeslyInput type=\"text\" key={value.attr} data-id={value.attr} defaultValue={value.value} onKeyDown={handleEnterKeyInput} onChange={e => changePreview(e, value.node)}/>\r\n              ))}\r\n              <SaveButton type=\"submit\">Save</SaveButton>\r\n            </form>\r\n            <small style={{display: 'block', color: 'white', fontSize: '10px', marginTop: '10px'}}>You will see multiple spaces and break lines only after saving and refreshing</small>\r\n          </UdeslyFeModal>\r\n        </ClickOutside>\r\n      </UdeslyFeModalWrapper>\r\n    </>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useAction } from 'easy-peasy';\r\n\r\nimport HoverIndicator from './HoverIndicator';\r\nimport styled from 'styled-components';\r\n\r\nimport ClickOutside from 'react-click-outside';\r\nimport {SaveButton} from '../styled/Button';\r\nimport {UdeslyInput} from '../styled/Input';\r\n\r\nexport const UdeslyFeModalWrapper = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: ${props => (props.open ? 'flex' : 'none')};\r\n  z-index: 9999;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n`;\r\n\r\nexport const UdeslyFeModal = styled.div`\r\n  min-width: 300px;\r\n  background-color: #333333;\r\n  padding: 30px;\r\n  color: white;\r\n  z-index: 99999999;\r\n  position: relative;\r\n\r\n  h3 {\r\n    color: white;\r\n    letter-spacing: initial;\r\n    text-transform: none;\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\n\r\n\r\n\r\nexport const LinkIndicator = () => {\r\n  const changeItemValue = useAction(dispatch => dispatch.changeLinkValue);\r\n  const setCurrentItem = useAction(dispatch => dispatch.setCurrentItem);\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [currentHref, setCurrentHref] = useState('');\r\n  const [currentLinkEl, setCurrentLinkEl] = useState(null);\r\n\r\n  const handleClick = e => {\r\n    \r\n    const t = e.target;\r\n    let attrs = t.getAttribute('data-udy-fe').split(',');\r\n    let attr = attrs.filter(el => el.startsWith('link_'))[0];\r\n    setCurrentItem(attr);\r\n    setOpen(true);\r\n    setCurrentHref(t.getAttribute('href') || '#');\r\n    setCurrentLinkEl(t);\r\n  };\r\n\r\n  const handleChangeValue = () => {\r\n    if (!open) return;\r\n    if (window.isFrontendEditorEnabled !== \"link_\") return;\r\n      setOpen(false);\r\n      currentLinkEl && currentLinkEl.setAttribute('href', currentHref);\r\n      changeItemValue(currentHref);\r\n  }\r\n\r\n  const handleKeyPress = e => {\r\n    if(e.key === 'Enter'){\r\n        handleChangeValue();\r\n      }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <HoverIndicator type=\"link_\" modifier=\"a\" onElementClick={handleClick} />\r\n      <UdeslyFeModalWrapper open={open}>\r\n      <ClickOutside onClickOutside={handleChangeValue}>\r\n        <UdeslyFeModal>\r\n          <h3>Change the link</h3>\r\n          <UdeslyInput\r\n            type=\"url\"\r\n            value={currentHref}\r\n            onChange={({ target }) => setCurrentHref(target.value)}\r\n            onKeyPress={e => handleKeyPress(e)}\r\n          />\r\n          <SaveButton onClick={handleChangeValue}>Save</SaveButton>\r\n        </UdeslyFeModal>\r\n        </ClickOutside>\r\n      </UdeslyFeModalWrapper>\r\n    </>\r\n  );\r\n};","export function openMediaSelector(title, onSelected, types) {\r\n    const frame = window.wp.media({\r\n        title: 'Select or upload ' + title,\r\n        button: {\r\n          text: 'Use this ' + title\r\n        },\r\n        library: {\r\n          type: types\r\n        },\r\n        multiple: false  // Set to true to allow multiple files to be selected\r\n      });\r\n    frame.on('select', () => {\r\n        const attachment = frame.state().get('selection').first().toJSON();\r\n        onSelected(attachment);\r\n    });\r\n\r\n    frame.open();\r\n}\r\n","import React from 'react';\r\nimport { useAction } from 'easy-peasy';\r\n\r\nimport HoverIndicator from './HoverIndicator';\r\nimport { openMediaSelector } from '../wp';\r\n\r\nexport const ImgIndicator = () => {\r\n\r\n    const changeItemValue = useAction(dispatch => dispatch.changeImageValue);\r\n    const setCurrentItem = useAction(dispatch => dispatch.setCurrentItem);\r\n\r\n    const handleClick = ({target}) => {\r\n        let attrs = target.getAttribute('data-udy-fe').split(',');\r\n        let attr = attrs.filter(el => el.startsWith('image_'))[0];\r\n        setCurrentItem(attr);\r\n        openMediaSelector('image', (attachment) => {\r\n            if(!attachment) return;\r\n            target.setAttribute('src', attachment.url);\r\n            target.removeAttribute('srcset');\r\n            changeItemValue(attachment.id);\r\n        }, ['image']);\r\n    }\r\n\r\n    return (\r\n          <HoverIndicator type=\"image_\" modifier=\"img\" onElementClick={handleClick} />\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { useAction } from 'easy-peasy';\r\n\r\nimport HoverIndicator from './HoverIndicator';\r\nimport { openMediaSelector } from '../wp';\r\n\r\nexport const BgImageIndicator = () => {\r\n\r\n    const changeItemValue = useAction(dispatch => dispatch.changeBackgroundImageValue);\r\n    const setCurrentItem = useAction(dispatch => dispatch.setCurrentItem);\r\n\r\n    const handleClick = ({target}) => {\r\n        let attrs = target.getAttribute('data-udy-fe').split(',');\r\n        let attr = attrs.filter(el => el.startsWith('bg_image_'))[0];\r\n        setCurrentItem(attr);\r\n        openMediaSelector('image', (attachment) => {\r\n            if(!attachment) return;\r\n            target.style.backgroundImage = 'url(' + attachment.url + ')';\r\n            changeItemValue(attachment.id);\r\n        });\r\n    }\r\n\r\n    return (\r\n          <HoverIndicator type=\"bg_image_\" onElementClick={handleClick} />\r\n    );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useAction } from 'easy-peasy';\r\n\r\nimport HoverIndicator from './HoverIndicator';\r\nimport styled from 'styled-components';\r\n\r\nimport ClickOutside from 'react-click-outside';\r\nimport {UdeslyInput} from '../styled/Input';\r\n\r\nimport { isAbsolute } from 'upath';\r\n\r\nexport const UdeslyFeModalWrapper = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: ${props => (props.open ? 'flex' : 'none')};\r\n  z-index: 9999;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n`;\r\n\r\nexport const UdeslyFeModal = styled.div`\r\n  min-width: 300px;\r\n  background-color: #333333;\r\n  padding: 30px;\r\n  color: white;\r\n  z-index: 99999999;\r\n  position: relative;\r\n\r\n  h3 {\r\n    color: white;\r\n    letter-spacing: initial;\r\n    text-transform: none;\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\n\r\nconst SaveButton = styled.button`\r\n  -webkit-apperance: none;\r\n  background-color: #2f52ff;\r\n  color: white;\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n  cursor: pointer;\r\n`\r\n\r\nfunction parseYoutube(url){\r\n  var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\r\n  var match = url.match(regExp);\r\n  return (match&&match[7].length===11)? match[7] : false;\r\n}\r\n\r\nexport const IFrameIndicator = () => {\r\n  const changeItemValue = useAction(dispatch => dispatch.changeIframeValue);\r\n  const setCurrentItem = useAction(dispatch => dispatch.setCurrentItem);\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [currentSrc, setCurrentSrc] = useState('');\r\n  const [currentLinkEl, setCurrentLinkEl] = useState(null);\r\n\r\n  const handleClick = e => {\r\n    const t = e.target;\r\n    let attrs = t.getAttribute('data-udy-fe').split(',');\r\n    let attr = attrs.filter(el => el.startsWith('iframe_'))[0];\r\n    setCurrentItem(attr);\r\n    setOpen(true);\r\n    const src = t.getAttribute('src');\r\n    const parsed = parseYoutube(src);\r\n\r\n    setCurrentSrc(parsed || t.getAttribute('src'));\r\n    setCurrentLinkEl(t);\r\n  };\r\n\r\n  const handleChangeValue = () => {\r\n    if (!open) return;\r\n    if (window.isFrontendEditorEnabled !== \"iframe_\") return;\r\n      setOpen(false);\r\n      const abs = isAbsolute(currentSrc)\r\n      currentLinkEl && currentLinkEl.setAttribute('src', abs ?  currentSrc : 'https://www.youtube.com/embed/'+ currentSrc);\r\n      currentLinkEl && changeItemValue(currentLinkEl.getAttribute('src'));\r\n  }\r\n\r\n  const handleKeyPress = e => {\r\n    if(e.key === 'Enter'){\r\n        handleChangeValue();\r\n      }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <HoverIndicator type=\"iframe_\" modifier=\"iframe\" onElementClick={handleClick} />\r\n      <UdeslyFeModalWrapper open={open}>\r\n      <ClickOutside onClickOutside={handleChangeValue}>\r\n        <UdeslyFeModal>\r\n          <h3>Change the link</h3>\r\n          <UdeslyInput\r\n            type=\"url\"\r\n            value={currentSrc}\r\n            onChange={({ target }) => setCurrentSrc(target.value)}\r\n            onKeyPress={e => handleKeyPress(e)}\r\n          />\r\n          <small style={{display: 'block', color: 'white', fontSize: '10px', marginTop: '10px'}}>You can paste a youtube code or an absolute iframe link</small>\r\n          <SaveButton onClick={handleChangeValue}>Save</SaveButton>\r\n        </UdeslyFeModal>\r\n        </ClickOutside>\r\n      </UdeslyFeModalWrapper>\r\n    </>\r\n  );\r\n};","import React from 'react';\r\nimport { useAction } from 'easy-peasy';\r\n\r\nimport HoverIndicator from './HoverIndicator';\r\nimport { openMediaSelector } from '../wp';\r\n\r\nexport const VideoIndicator = () => {\r\n\r\n    const changeItemValue = useAction(dispatch => dispatch.changeVideoValue);\r\n    const setCurrentItem = useAction(dispatch => dispatch.setCurrentItem);\r\n\r\n    const handleClick = ({target}) => {\r\n        let attrs = target.getAttribute('data-udy-fe').split(',');\r\n        let attr = attrs.filter(el => el.startsWith('video_'))[0];\r\n        setCurrentItem(attr);\r\n        openMediaSelector('video', (attachment) => {\r\n            if(!attachment) return;\r\n            if(attachment.type !== 'video') return;\r\n            target.innerHTML = '';\r\n            const source = document.createElement('source');\r\n            source.setAttribute('src', attachment.url);\r\n\r\n            target.appendChild(source);\r\n            target.load();\r\n            target.play();\r\n\r\n            changeItemValue(attachment.url);\r\n        }, ['video']);\r\n    }\r\n\r\n    return (\r\n          <HoverIndicator type=\"video_\" modifier=\"video\" onElementClick={handleClick} />\r\n    );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useAction, useStore } from 'easy-peasy';\r\nimport styled from 'styled-components';\r\nimport ControlBar from './components/ControlBar/ControlBar';\r\nimport ToggleButton from './components/ToggleButton/ToggleButton';\r\nimport { TextIndicator } from './components/TextIndicator';\r\nimport { LinkIndicator } from './components/LinkIndicator';\r\nimport { cleanDuplicates } from './utils';\r\nimport {ImgIndicator} from './components/ImgIndicator';\r\nimport { BgImageIndicator } from './components/BgImageIndicator';\r\nimport { IFrameIndicator } from './components/IframeIndicator';\r\nimport { VideoIndicator } from './components/VideoIndicator';\r\n\r\nconst Message = styled.p`\r\n  margin: 0;\r\n  font-size: 12px;\r\n  letter-spacing: initial;\r\n`\r\n\r\nconst App = () => {\r\n  const setItems = useAction(dispatch => dispatch.setItems);\r\n  const saveItems = useAction(dispatch => dispatch.saveItems);\r\n  const setPageName = useAction(dispatch => dispatch.setPageName);\r\n  const shouldSave = useStore(state => state.shouldSave);\r\n  const isLoading = useStore(state => state.loading);\r\n  const message = useStore(state => state.message);\r\n\r\n  useEffect(() => {\r\n    cleanDuplicates();\r\n      window.addEventListener('load', () => {\r\n        try{\r\n        const configEl = document.getElementById('udesly-fe-config');\r\n        const items = configEl.innerHTML;\r\n        setItems(JSON.parse(items));\r\n        setPageName(configEl.getAttribute('data-page'));\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n      });\r\n  }, []);\r\n\r\n\r\n  const StyledButton = styled.div`\r\n    background-color: #2f52ff;\r\n    padding: 8px 12px;\r\n    color: white;\r\n    cursor: ${props => (props.disabled ? 'not-allowed' : 'pointer')}!important;\r\n`\r\n\r\n\r\n  let buttonMessage = shouldSave ? 'Save': 'No changes';\r\n  buttonMessage = isLoading ? 'Saving...' : buttonMessage;\r\n\r\n  return (\r\n    <>\r\n      <ControlBar>\r\n        <div>\r\n          <ToggleButton type=\"text_\" help=\"Enable texts editing\">\r\n          <i className=\"fas fa-align-left\"></i>\r\n          </ToggleButton>\r\n          <ToggleButton type=\"link_\" help=\"Enable link editing\">\r\n          <i className=\"fas fa-link\"></i>\r\n          </ToggleButton>\r\n          <ToggleButton type=\"image_\" help=\"Enable image editing\">\r\n          <i className=\"fas fa-images\"></i>\r\n          </ToggleButton>\r\n          <ToggleButton type=\"bg_image_\" help=\"Enable background image editing\">\r\n          <i className=\"fas fa-file-image\"></i>\r\n          </ToggleButton>\r\n          <ToggleButton type=\"iframe_\" help=\"Enable iframe editing\">\r\n           <i className=\"fab fa-youtube\"></i>\r\n          </ToggleButton>\r\n          <ToggleButton type=\"video_\" help=\"Enable video editing\">\r\n           <i className=\"fas fa-video\"></i>\r\n          </ToggleButton>\r\n        </div>\r\n        {message && <div>\r\n            <Message style={{color: message.color}}>{message.text}</Message>\r\n        </div>}\r\n        <div>\r\n          <StyledButton className=\"udesly-fe-save-button\" onClick={(e) => { e.preventDefault(); saveItems(); }} disabled={!shouldSave || isLoading}>\r\n            {buttonMessage}\r\n          </StyledButton>\r\n        </div>\r\n      </ControlBar>\r\n      <TextIndicator />\r\n      <LinkIndicator />\r\n      <ImgIndicator />\r\n      <BgImageIndicator />\r\n      <IFrameIndicator />\r\n      <VideoIndicator />\r\n    </>\r\n  );\r\n};\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport FrontendEditorProvider from './store/store-provider';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <FrontendEditorProvider>\r\n    <App />\r\n  </FrontendEditorProvider>,\r\n  document.getElementById('udesly-frontend-editor-root')\r\n);\r\n"],"sourceRoot":""}